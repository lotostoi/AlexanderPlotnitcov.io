(function(t){function e(e){for(var n,o,c=e[0],s=e[1],u=e[2],l=0,m=[];l<c.length;l++)o=c[l],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&m.push(r[o][0]),r[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);d&&d(e);while(m.length)m.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,c=1;c<a.length;c++){var s=a[c];0!==r[s]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},r={app:0},i=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=s;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"1c5b":function(t,e,a){},2471:function(t,e,a){"use strict";var n=a("50f5"),r=a.n(n);r.a},"383f":function(t,e,a){},"50f5":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("app-header",{on:{showCart:function(e){t.on=!1},showCotalog:function(e){t.on=!0}}}),a("div",{staticClass:"row"},[a("app-nav",{staticClass:"mt-5"}),a("div",{staticClass:"col-10 mt-5 contAnim"},[a("transition",{attrs:{"enter-active-class":"enter","leave-active-class":"leave",mode:"out-in"}},[a("router-view")],1)],1)],1)],1)},i=[],o=a("5530"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",[a("div",{staticClass:"container bg-warning rounded"},[a("div",{staticClass:"d-block"},[a("div",{staticClass:"cont"},[a("router-link",{staticClass:"hover",attrs:{to:{name:"Main"}}},[a("h1",[t._v("Site")])]),a("router-link",{attrs:{to:{name:"Cart"}}},[a("p",[t._v(t._s(t.total.cnt))]),a("b-icon-cart",{staticClass:"b-icon hover ml-10",attrs:{icon:"cart"}})],1)],1)])])])},s=[],u=a("7386"),d=a("2f62"),l={components:{BIconCart:u["a"]},data:function(){return{}},computed:Object(o["a"])({},Object(d["c"])({total:"cart/total"}))},m=l,p=(a("bb82"),a("2877")),f=Object(p["a"])(m,c,s,!1,null,"45ee77af",null),v=f.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"mt-1"},[t.goods.length>0?a("div",{staticClass:"container bg-secondary rounded p-3"},[a("h1",[t._v("Cotalog")]),a("div",{staticClass:"row"},t._l(t.goods,(function(e){return a("div",{key:e.id,staticClass:"col col-sm-4"},[a("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"20rem"},attrs:{title:e.title,"img-src":e.img,"img-alt":e.title,"img-top":"",tag:"article"}},[a("p",[t._v("$"+t._s(e.price))]),a("router-link",{attrs:{to:{name:"Good",params:{id:e.id}}}},[t._v("Подробнее...")]),a("transition",{attrs:{"enter-active-class":"btn-enter","leave-active-class":"btn-leave",mode:"out-in"}},[t.checkInCart(e.id)?a("button",{key:"remove",staticClass:"btn btn-danger persp",on:{click:function(a){return t.decCart({id:e.id})}}},[t._v("Remove")]):a("button",{key:"add",staticClass:"btn btn-success persp",on:{click:function(a){return t.addCart({id:e.id})}}},[t._v("Add to cart")])])],1)],1)})),0)]):a("div",{staticClass:"spa-cotalog-loading-cont"},[t._m(0)])])},g=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"spinner-border",staticStyle:{width:"10rem",height:"10rem"},attrs:{role:"status"}},[a("span",{staticClass:"sr-only"},[t._v("Loading...")])])}],C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"border "},[a("img",{staticClass:"col col-sm-8",attrs:{src:t.good.img,alt:"name"}}),a("h2",{staticClass:"col col-sm-8"},[t._v(t._s(t.good.name))]),a("div",{staticClass:"price"},[t._v(t._s(t.good.price))])])},h=[],_={props:{good:{type:Object,required:!0}},computed:Object(d["c"])(["price","cnt"]),methods:Object(o["a"])(Object(o["a"])({},Object(d["b"])(["getCnt"])),{},{chengCnt:function(t,e){this.getCnt({id:t,e:e})}})},x=_,k=Object(p["a"])(x,C,h,!1,null,null,null),O=k.exports,q=a("205f"),j={components:{AppProduct:O,BCard:q["a"]},computed:Object(o["a"])({},Object(d["c"])({goods:"cotalog/goods",checkInCart:"cart/checkInCart"})),methods:Object(o["a"])({},Object(d["b"])({decCart:"cart/decCart",addCart:"cart/addCart"}))},w=j,I=(a("c9e9"),Object(p["a"])(w,b,g,!1,null,"684d267a",null)),y=I.exports,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-1"},[a("div",{staticClass:"container bg-secondary rounded p-3"},[a("h1",[t._v("Cart")]),a("table",{staticClass:"spa-table"},[t._m(0),a("transition-group",{attrs:{"leave-active-class":"prod-leave",teg:"tbody"}},t._l(t.goodsDitailed,(function(e){return a("tr",{key:e.id,staticClass:"spa-table-row"},[a("th",{staticClass:"spa-img"},[a("img",{attrs:{src:e.img,alt:"good.img"}})]),a("td",{staticClass:"spa-name"},[a("span",[t._v(t._s(e.title))])]),a("td",{staticClass:"spa-price"},[t._v("$ "+t._s(e.price))]),a("td",{staticClass:"spa-amount"},[a("div",{staticClass:"spa-div"},[a("button",{staticClass:"btn btn-warning",on:{click:function(a){return t.decCart({id:e.id})}}},[t._v("-1")]),a("input",{staticClass:"spa-input",attrs:{type:"text"},domProps:{value:e.cnt},on:{change:function(a){return t.chengCart({id:e.id,e:a})}}}),a("button",{staticClass:"btn btn-success",on:{click:function(a){return t.incCart({id:e.id})}}},[t._v("+1")])])])])})),0)],1),a("hr"),a("p",[t._v("TotalQuantit: "+t._s(t.total.cnt))]),a("p",[t._v("TotalPrice: "+t._s(t.total.price))]),a("hr"),a("button",{staticClass:"btn btn-success",on:{click:t.clear}},[t._v("Clear cart")])])])},E=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticClass:"spa-table-header"},[a("th",{staticClass:"spa-img"},[t._v("Image")]),a("th",{staticClass:"spa-name"},[t._v("Name")]),a("th",{staticClass:"spa-price"},[t._v("Price")]),a("th",{staticClass:"spa-amount"},[t._v("Amount")])])])}],$={components:{BCard:q["a"]},computed:Object(d["c"])({goodsInCart:"cart/goodsInCart",total:"cart/total",goodsDitailed:"cart/goodsDitailed"}),methods:Object(o["a"])({},Object(d["b"])({decCart:"cart/decCart",incCart:"cart/incCart",chengCart:"cart/chengCart",clear:"cart/clearCart"}))},A=$,S=(a("8dba"),Object(p["a"])(A,R,E,!1,null,"5397ea94",null)),P=S.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"col-2 mt-2"},[a("ul",{staticClass:"list-group"},t._l(t.menu,(function(e){return a("router-link",{key:e.path,staticClass:"list-group-item",attrs:{exact:"","active-class":"spa-nav-link-active",to:{name:e.name},teg:"li"}},[a("a",[t._v(t._s(e.name))])])})),1)])},D=[],M={data:function(){return{menu:[{name:"Main"},{name:"Cotalog"}]}}},T=M,N=(a("86e0"),Object(p["a"])(T,G,D,!1,null,"4cd27d35",null)),B=N.exports,L={components:{AppHeader:v,AppContent:y,AppCart:P,AppNav:B},data:function(){return{}},computed:Object(o["a"])({},Object(d["c"])({orderStatus:"status"})),methods:Object(o["a"])({},Object(d["b"])({makeOrder:"send"}))},H=L,J=(a("5c0b"),Object(p["a"])(H,r,i,!1,null,null,null)),K=J.exports,F=(a("99af"),a("7db0"),a("c740"),a("d81d"),a("13d5"),a("a434"),a("96cf"),a("1da1")),Q=(a("d3b7"),"http://faceprog.ru/reactcourseapi/");function U(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get",a=Q+t;return fetch(a,{mathod:e}).then((function(t){return t.json()}))}var z={namespaced:!0,state:{goodsInCart:[]},getters:{goodsInCart:function(t){return t.goodsInCart},checkInCart:function(t){return function(e){return t.goodsInCart.find((function(t){return t.id===e}))}},indexInCart:function(t){return function(e){return t.goodsInCart.findIndex((function(t){return t.id===e}))}},total:function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];var n=e[0],r=e[3],i=void 0===r?rootGetters:r;return{price:n.goodsInCart.reduce((function(t,e){return t+e.cnt*i["cotalog/getGood"](e.id).price}),0),cnt:n.goodsInCart.length}},goodsDitailed:function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];var n=e[0],r=e[3],i=void 0===r?rootGetters:r,c=i["cotalog/getGood"];return n.goodsInCart.map((function(t){return Object(o["a"])(Object(o["a"])({},t),c(t.id))}))}},mutations:{getCart:function(t,e){var a=e.data,n=e.token;t.goodsInCart=a,t.token=n},addCart:function(t,e){var a=t.goodsInCart;a.push({id:e,cnt:1})},incCart:function(t,e){var a=t.goodsInCart;++a[e]["cnt"]},decCart:function(t,e){var a=t.goodsInCart;--a[e]["cnt"]},delCart:function(t,e){var a=t.goodsInCart;a.splice(e,1)},chengCart:function(t,e){var a=t.goodsInCart,r=e.index,i=e.val;n["a"].set(a[r],"cnt",i)},clearCart:function(t){var e=t.goodsInCart;e.splice(0,e.length)}},actions:{getCart:function(t){return Object(F["a"])(regeneratorRuntime.mark((function e(){var a,n,r,i,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,n=localStorage.getItem("CART__TOKEN"),e.next=4,U("cart/load.php?token=".concat(n));case 4:r=e.sent,i=r.cart,o=r.token,c=r.needUpdate,c&&localStorage.setItem("CART__TOKEN",o),a("getCart",{token:o,data:i});case 10:case"end":return e.stop()}}),e)})))()},addCart:function(t,e){return Object(F["a"])(regeneratorRuntime.mark((function a(){var n,r,i,o,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.commit,r=t.state,i=t.getters,o=e.id,i.goodsInCart,i.checkInCart,i.indexInCart,a.next=5,U("cart/add.php?token=".concat(r.token,"&id=").concat(o));case 5:c=a.sent,c&&n("addCart",o);case 7:case"end":return a.stop()}}),a)})))()},incCart:function(t,e){return Object(F["a"])(regeneratorRuntime.mark((function a(){var n,r,i,o,c,s,u,d,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=t.commit,r=t.getters,i=t.state,o=e.id,c=r.goodsInCart,s=r.checkInCart,u=r.indexInCart,d=c[u(o)]["cnt"],!s(o)){a.next=10;break}if(!(d>0)){a.next=10;break}return a.next=8,U("cart/change.php?token=".concat(i.token,"&id=").concat(o,"&cnt=").concat(++d));case 8:l=a.sent,l&&n("incCart",u(o));case 10:case"end":return a.stop()}}),a)})))()},decCart:function(t,e){return Object(F["a"])(regeneratorRuntime.mark((function a(){var n,r,i,o,c,s,u,d,l,m;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=t.commit,r=t.getters,i=t.state,o=e.id,c=r.goodsInCart,s=r.checkInCart,u=r.indexInCart,d=c[u(o)]["cnt"],!s(o)){a.next=17;break}if(!(d>1)){a.next=12;break}return a.next=8,U("cart/change.php?token=".concat(i.token,"&id=").concat(o,"&cnt=").concat(--d));case 8:l=a.sent,l&&n("decCart",u(o)),a.next=17;break;case 12:if(1!==d){a.next=17;break}return a.next=15,U("cart/remove.php?token=".concat(i.token,"&id=").concat(o));case 15:m=a.sent,m&&n("delCart",u(o));case 17:case"end":return a.stop()}}),a)})))()},chengCart:function(t,e){return Object(F["a"])(regeneratorRuntime.mark((function a(){var n,r,i,o,c,s,u,d,l,m;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=t.commit,r=t.getters,i=t.state,o=e.id,c=e.e,s=r.checkInCart,u=r.indexInCart,!s(o)){a.next=10;break}return d=parseInt(c.target.value),l=isNaN(d)||d<1?1:d,a.next=8,U("cart/change.php?token=".concat(i.token,"&id=").concat(o,"&cnt=").concat(l));case 8:m=a.sent,m&&(n("chengCart",{index:u(o),val:!1}),n("chengCart",{index:u(o),val:l}));case 10:case"end":return a.stop()}}),a)})))()},clearCart:function(t){return Object(F["a"])(regeneratorRuntime.mark((function e(){var a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,n=t.state,e.next=3,U("cart/clean.php?token=".concat(n.token));case 3:r=e.sent,r&&a("clearCart");case 5:case"end":return e.stop()}}),e)})))()}}},V={description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sapiente sequi qui possimus delectus reprehenderit iusto quidem dolorum deserunt corporis non dolor sunt culpa, inventore, veritatis voluptates. Cupiditate voluptas earum ut necessitatibus, animi harum, ipsum similique quis, reprehenderit praesentium sint voluptatibus iste dolorem placeat laborum. Aperiam, maxime voluptatum alias illum dolor magnam sunt sequi, vitae nostrum, possimus tenetur facere praesentium fugit ipsam. Alias molestias doloremque, magnam quod nulla optio voluptas dicta debitis ut amet. Magnam ipsa porro perferendis similique magni? Odit soluta aut ad assumenda maxime eius architecto rem et, ipsa optio quasi nulla dolorum necessitatibus neque. Asperiores dolorum perspiciatis eum.",img:"http://placehold.it/200",inProcessing:!1},W={namespaced:!0,state:{goods:[]},getters:{goods:function(t){return t.goods},getGood:function(t){return function(e){if(-1!=t.goods.findIndex((function(t){return t.id==e})))return t.goods[t.goods.findIndex((function(t){return t.id==e}))]}}},mutations:{getGoods:function(t,e){t.goods=e}},actions:{getGoods:function(t){return Object(F["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,t.state,e.next=3,U("products/all.php");case 3:n=e.sent,a("getGoods",n.map((function(t){return Object(o["a"])(Object(o["a"])({},t),V)})));case 5:case"end":return e.stop()}}),e)})))()}}};n["a"].use(d["a"]);var X=new d["a"].Store({modules:{cart:z,cotalog:W},strict:!1}),Y=a("8c4f"),Z=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},tt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("h1",[t._v("The Shop")]),a("p",[t._v("Lorem ipsum dolor sit amet consectetur adipisicing elit. Earum ex facilis obcaecati, aperiam perspiciatis dolor? Dolore accusantium doloremque laudantium? Explicabo, vel eligendi exercitationem beatae eum omnis odit. Alias sequi molestiae quo exercitationem ab itaque ex omnis inventore consectetur voluptate explicabo placeat maxime eos, atque quisquam nam ut quos error reiciendis recusandae. Repudiandae sint dolor et, reiciendis, veniam labore animi quam mollitia ullam voluptates vitae ad est quia ratione quis porro libero aspernatur deleniti eaque amet. Reprehenderit doloremque modi laudantium nisi consectetur tempore autem, nostrum dicta nesciunt cumque odit nobis, facere explicabo, rem nemo laboriosam at corrupti recusandae itaque id quos obcaecati eum officiis quod! Ipsum alias repudiandae nemo! Facere culpa vero atque magni reprehenderit, nostrum perferendis in eos distinctio id a vitae sunt ab nisi! Dolorem odio quis similique laudantium praesentium delectus ab animi sit velit? Eveniet exercitationem saepe, temporibus fugit, culpa nam, assumenda sapiente corrupti provident omnis necessitatibus eligendi nisi atque minus aliquid rerum totam sequi possimus. Dignissimos labore atque iusto eum possimus, similique fugit illum, magnam laboriosam, provident harum adipisci neque deleniti. Cumque voluptatum maiores vel sunt eveniet, repellat modi at beatae officiis laudantium ab harum excepturi! Repudiandae delectus esse, laudantium totam maxime commodi provident praesentium reiciendis doloremque facilis reprehenderit ipsa exercitationem, quia laborum. Distinctio tempora mollitia nemo exercitationem, deserunt eum veniam explicabo officiis unde libero. Reprehenderit totam quae animi quod recusandae? Enim autem voluptatum alias maiores ducimus explicabo veritatis, cum ipsam velit doloremque dolorem obcaecati, dolorum distinctio, voluptatibus eligendi deleniti beatae fugit iure cumque eum quae temporibus. Odit neque excepturi commodi. Dolore non deserunt cum. In amet necessitatibus atque, aliquid, dolor tempora numquam id nam veniam qui exercitationem possimus ratione quod modi a, totam officiis natus. Corporis quibusdam fuga numquam vero dolore ad, debitis aliquid maiores dicta omnis consequuntur, sed nemo delectus assumenda aspernatur repellendus tenetur dolor.")])])}],et={},at=et,nt=(a("b500"),Object(p["a"])(at,Z,tt,!1,null,"0f1e26eb",null)),rt=nt.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("spa-404")},ot=[],ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cont"},[a("h1",[t._v("404")]),a("router-link",{attrs:{to:{name:"Main"}}},[t._v("Come back to Home page....")])],1)},st=[],ut={},dt=ut,lt=(a("9b7e"),Object(p["a"])(dt,ct,st,!1,null,"457b269e",null)),mt=lt.exports,pt={components:{Spa404:mt}},ft=pt,vt=Object(p["a"])(ft,it,ot,!1,null,null,null),bt=vt.exports,gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"spa-cont"},[t.id?a("div",{staticClass:"spa-cont-good"},[a("img",{staticClass:"spa-img",attrs:{src:t.good(t.id).img,alt:""}}),a("div",{staticClass:"spa-cont-buttons"},[a("transition",{attrs:{"enter-active-class":"btn-enter","leave-active-class":"btn-leave",mode:"out-in"}},[t.checkInCart(t.id)?a("button",{key:"remove",staticClass:"btn btn-danger btn-block persp",on:{click:function(e){return t.decCart({id:t.id})}}},[t._v("Remove")]):a("button",{key:"add",staticClass:"btn btn-success btn-block persp",on:{click:function(e){return t.addCart({id:t.id})}}},[t._v("Add to cart")])])],1),a("h1",[t._v(t._s(t.good(t.id).title))]),a("p",[t._v("Prise: $ "+t._s(t.good(t.id).price))]),a("p",{staticClass:"spa-description"},[t._v(t._s(t.good(t.id).description))])]):a("spa-404")],1)},Ct=[],ht={components:{Spa404:mt},methods:Object(o["a"])({},Object(d["b"])({decCart:"cart/decCart",addCart:"cart/addCart"})),computed:Object(o["a"])(Object(o["a"])({},Object(d["c"])({good:"cotalog/getGood",checkInCart:"cart/checkInCart"})),{},{id:function(){return!/\D/.test(this.$route.params.id)&&this.$route.params.id}})},_t=ht,xt=(a("2471"),Object(p["a"])(_t,gt,Ct,!1,null,"79a9475b",null)),kt=xt.exports;n["a"].use(Y["a"]);var Ot=[{name:"Main",path:"/",component:rt},{name:"Cotalog",path:"/cotalog",component:y},{name:"Cart",path:"/toCart",component:P},{name:"Good",path:"/cotalog/:id",component:kt},{name:"404",path:"*",component:bt}],qt=new Y["a"]({mode:"history",routes:Ot});a("f9e3");X.dispatch("cotalog/getGoods"),X.dispatch("cart/getCart"),new n["a"]({el:"#app",render:function(t){return t(K)},store:X,router:qt})},"5c0b":function(t,e,a){"use strict";var n=a("9c0c"),r=a.n(n);r.a},"86e0":function(t,e,a){"use strict";var n=a("ba35"),r=a.n(n);r.a},"8dba":function(t,e,a){"use strict";var n=a("1c5b"),r=a.n(n);r.a},"9b7e":function(t,e,a){"use strict";var n=a("b854"),r=a.n(n);r.a},"9c0c":function(t,e,a){},b500:function(t,e,a){"use strict";var n=a("bc87"),r=a.n(n);r.a},b854:function(t,e,a){},ba35:function(t,e,a){},bb82:function(t,e,a){"use strict";var n=a("d792"),r=a.n(n);r.a},bc87:function(t,e,a){},c9e9:function(t,e,a){"use strict";var n=a("383f"),r=a.n(n);r.a},d792:function(t,e,a){}});